!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CodeMirrorEditor=t():e.CodeMirrorEditor=t()}(window,function(){return function(e){function t(t){for(var r,l,s=t[0],c=t[1],a=t[2],d=0,f=[];d<s.length;d++)l=s[d],o[l]&&f.push(o[l][0]),o[l]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,a||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},o={0:0},i=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var s=window.webpackJsonpCodeMirrorEditor=window.webpackJsonpCodeMirrorEditor||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var a=0;a<s.length;a++)t(s[a]);var u=c;return i.push([2,1]),n()}([,,function(e,t,n){n(3),n(4);const r=n(5);e.exports=r},function(e,t,n){},function(e,t,n){},function(e,t,n){n(6);const r=n(0);n(1),n(7),n(9),n(10),n(11),n(12),n(13),n(14);const o=n(15),i=n(16);r.defineMode("vmarkdown",function(e,t){return r.overlayMode(r.getMode(e,t.backdrop||"text/markdown"),{token1:function(e,t){var n;if(e.match("{{"))for(;null!=(n=e.next());)if("}"==n&&"}"==e.next())return e.eat("}"),"mustache";for(;null!=e.next()&&!e.match("{{",!1););return null},token:function(e,t){return e.match(/^ {0,3}\[(TOC|toc)\]/,!0,!0)?"toc":(e.skipToEnd(),null)}})});e.exports=class extends o{constructor(e,t){super(),this.options=t||{},this.editor=r(e,Object.assign({theme:"default vmarkdown",value:"",mode:"vmarkdown",lineWrapping:!0,styleActiveLine:!0,scrollbarStyle:"native",dragDrop:!0,selectionsMayTouch:!1,extraKeys:{Enter:"newlineAndIndentContinueMarkdownList"}},this.options))}on(e,t){const n=this;switch(e){case"beforeChange":break;case"change":n.editor.on("change",function(e,r){n.$onChange(r,t)});break;case"scroll":n.editor.on("scroll",function(){n.$onScroll(t)});break;case"cursorChange":n.editor.on("cursorActivity",function(){n.$onCursorChange(t)})}}$onChange(e,t){const n=this;var r=e.origin,o=e.from,i=e.to,l=e.text,s=e.removed,c=o.line+1,a=i.line+1;o.ch,i.ch;const u={origin:r,changes:[]};if("+input"===r&&l[0].length>0&&0===s[0].length?u.origin="insert":"+input"===r&&l[0].length>0&&s[0].length>0?u.origin="replace":"+delete"===r&&s[0].length>0&&(u.origin="remove"),"+input"===r||"+delete"===r){let e=0,t=0===s.slice(-1)[0].length;for(let r=c;r<=a;r++){if(r===c&&(0===l[0].length&&s[e].length>0&&!t||l[0].length>0&&0===s[0].length||l[0].length>0&&s[e].length>0)){let e=n.getLine(r);u.changes.push({action:"replace",line:r,before:"",after:e})}else r===a&&t||u.changes.push({action:"remove",line:r,before:"",after:""});e++}}t&&t.call(n,u)}$onScroll(e){e&&e.call(this)}$onCursorChange(e){const t=this.editor.getCursor(),n={line:t.line+1,column:t.ch+1},r=this.editor.cursorCoords(t.line);Object.assign(n,r),e&&e.call(this,n)}getValue(){return i.trimTrailingLines(this.editor.getValue())}setValue(e){this.editor.setValue(e)}scrollTo(e){}async scrollToLine(e){}scrollIntoViewByLine(e){const t={line:e,ch:0};this.editor.scrollIntoView(t)}getScrollTop(){return this.editor.display.scroller.scrollTop}getFirstVisibleCoverageRatio(e,t){const n=this;if(t.start.line===t.end.line){const t=e-1;var r=n.editor.heightAtLine(t),o=n.editor.getLineHandle(t).height;return{line:e,coverageRatio:o?r/o:0}}const i=t.start.line,l=t.end.line-i+1;return{line:e,coverageRatio:(e<t.start.line?t.start.line:e)/l}}getFirstVisibleLine(){var e=this.editor.display.scroller.scrollTop;return this.editor.coordsChar({top:e,left:0},"local").line+1}getLastVisibleRow(){}getLine(e){return this.editor.doc.getLine(e-1)}openSma(){}}},,,,,,,,,,function(e,t){e.exports=class{on(e,t){}getValue(){}setValue(){}scrollTo(){}scrollToLine(e){}getLine(e){}}},function(e,t){e.exports={trimTrailingLines:function(e){for(var t=e,n=t.length-1;n>=0;){var r=t.charAt(n);if("\n"!==r&&" "!==r)break;--n}return t.slice(0,n+1)}}}])});